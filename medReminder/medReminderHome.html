<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Medication Reminder</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main class="page reminder-home">
      <header class="page-header">
        <a href="../main/homePage.html" class="back-btn">‚Üê Back</a>
        <h1>Medication Reminder</h1>
      </header>

      <!-- Adik Ahmad Welcome Scene -->
      <section class="scene">
        <img src="../assets/Adik_Ahmad.png" alt="Adik Ahmad" class="avatar" />
        <div class="bubble">
          <p>Hi Nenek! Have you taken your medicine this morning?</p>
          <div class="response-actions">
            <button class="btn btn-yes" type="button" id="btnYes">
              ‚úì Sudah
            </button>
            <button class="btn btn-no" type="button" id="btnNo">‚úó Belum</button>
          </div>
        </div>
      </section>

      <!-- Quick Stats Dashboard -->
      <section class="stats-row">
        <div class="stat-card success">
          <span class="stat-icon">‚úÖ</span>
          <span class="stat-value" id="takenCount">0</span>
          <span class="stat-label">Taken</span>
        </div>
        <div class="stat-card warning">
          <span class="stat-icon">‚è∞</span>
          <span class="stat-value" id="upcomingCount">0</span>
          <span class="stat-label">Upcoming</span>
        </div>
        <div class="stat-card danger">
          <span class="stat-icon">‚ö†Ô∏è</span>
          <span class="stat-value" id="missedCount">0</span>
          <span class="stat-label">Missed</span>
        </div>
      </section>

      <!-- Today's Schedule Section -->
      <h2 class="section-title">Today's Schedule</h2>
      <section class="schedule-list" id="scheduleList">
        <!-- Schedule cards will be injected here -->
        <article class="schedule-card taken">
          <div class="schedule-info">
            <h3 class="schedule-name">Paracetamol</h3>
            <p class="schedule-detail">2 tablets ‚Ä¢ After breakfast</p>
          </div>
          <div class="schedule-time">
            <span class="time-value">8:00</span>
            <span class="time-label">AM</span>
          </div>
          <span class="status-badge taken">Taken</span>
        </article>

        <article class="schedule-card upcoming">
          <div class="schedule-info">
            <h3 class="schedule-name">Vitamin C</h3>
            <p class="schedule-detail">1 tablet ‚Ä¢ After lunch</p>
          </div>
          <div class="schedule-time">
            <span class="time-value">1:00</span>
            <span class="time-label">PM</span>
          </div>
          <span class="status-badge upcoming">Next</span>
        </article>

        <article class="schedule-card">
          <div class="schedule-info">
            <h3 class="schedule-name">Blood Pressure Med</h3>
            <p class="schedule-detail">1 tablet ‚Ä¢ Before dinner</p>
          </div>
          <div class="schedule-time">
            <span class="time-value">6:00</span>
            <span class="time-label">PM</span>
          </div>
        </article>
      </section>
    </main>

    <!-- Fixed Bottom Toolbar -->
    <footer class="fixed-toolbar">
      <a class="toolbar-btn primary" href="manualInput.html">
        <span class="toolbar-icon">‚ûï</span>
        <span class="toolbar-label">Add</span>
      </a>
      <a class="toolbar-btn" href="OCRScanPage.html">
        <span class="toolbar-icon">üì∑</span>
        <span class="toolbar-label">Scan</span>
      </a>
      <a class="toolbar-btn" href="#">
        <span class="toolbar-icon">üìÖ</span>
        <span class="toolbar-label">History</span>
      </a>
      <a class="toolbar-btn" href="#">
        <span class="toolbar-icon">‚öôÔ∏è</span>
        <span class="toolbar-label">Settings</span>
      </a>
    </footer>

    <script>
      // Demo: Update stats based on schedule
      function updateStats() {
        const cards = document.querySelectorAll(".schedule-card");
        let taken = 0,
          upcoming = 0,
          missed = 0;

        cards.forEach((card) => {
          if (card.classList.contains("taken")) taken++;
          else if (card.classList.contains("upcoming")) upcoming++;
          else if (card.classList.contains("missed")) missed++;
        });

        document.getElementById("takenCount").textContent = taken;
        document.getElementById("upcomingCount").textContent =
          upcoming || cards.length - taken;
        document.getElementById("missedCount").textContent = missed;
      }

      // Response buttons interaction
      document.getElementById("btnYes").addEventListener("click", function () {
        const bubble = document.querySelector(".bubble p");
        bubble.textContent =
          "Bagus, Nenek! Keep taking your medicine on time! üí™";
        this.closest(".response-actions").style.display = "none";
      });

      document.getElementById("btnNo").addEventListener("click", function () {
        const bubble = document.querySelector(".bubble p");
        bubble.textContent =
          "Jangan lupa ya, Nenek! Your next medicine is at 1:00 PM.";
        this.closest(".response-actions").style.display = "none";
      });

      // Initialize
      updateStats();
    </script>
  </body>
</html>
